<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>✂️ Piedra Papel o Tijeras</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
      <div class="logti">
        <img class="logo" src="https://github.com/Walkeruru/game/blob/main/img/logo.png?raw=true" alt="logo piedra papel y tijeras">
        <h3 class="titulo">Rock, Paper, Scissors</h3> </div>
        <div class="fotos">
          <img class="piedrafoto" src="https://ponceelrelajado.com/juego/img/piedra.png" alt="piedra">
          <img class="papelfoto" src="https://ponceelrelajado.com/juego/img/papel.png" alt="papel">
          <img class="tijerasfoto" src="https://ponceelrelajado.com/juego/img/tijera.png" alt="tijeras">
        </div>
       <div class="botones">
        <button id="rock">PIEDRA</button>
        <button id="papel">PAPEL</button>
        <button id="tijeras">TIJERAS</button></div>
        <div class="resultadosdiv"></div>
        <div class="tablero"></div>
        <div class="footer">@Walkeruru</div>
    </body>
    <script>
// elige la mano de la computadora mediante un calculo random
    function computerPlay(){
        let numero=Math.floor(Math.random()*100)+1;
        if(numero<=33){
            return "papel"
        } else if(numero>33 && numero<66){
            return "rock"
        } else{
            return "tijeras"
        }
    }
  //funcion para jugar un round de piedras papel y tijeras 
  function round(playerSelection,computerSelection){
      if (playerSelection.toLowerCase() === "rock" && computerSelection==="tijeras"){
        playerScore++
        return "GANASTE!, piedra le gana a tijeras"
      }else if(playerSelection.toLowerCase()=== computerSelection){
        draw++
        return "EMPATE"
      }else if(playerSelection.toLowerCase()=== "tijeras" && computerSelection==="papel"){
        playerScore++
        return "GANASTE!, tijeras le gana a papel"
      }else if(playerSelection.toLowerCase()=== "papel" && computerSelection==="rock"){
        playerScore++
        return "GANASTE!, papel le gana a piedra"
      }else{
        computerScore++
        return "PERDISTE!";
      }
    }
    //definiendo variables globales
      let playerScore = 0
      let computerScore = 0
      let draw = 0
    const buttons = document.querySelectorAll('button');
    buttons.forEach((button) => {
    button.addEventListener('click', (e) => {
     const play = round(button.id,computerSelection=computerPlay());
    eleccionplayer.textContent=`Elegiste ${button.id}`;
    eleccionai.textContent=`La computadora eligio ${computerSelection}`;
    //muestra la foto de la mano del jugador
    if(button.id=="rock"){
      fotoeleccion.setAttribute("style","content: url(https://ponceelrelajado.com/juego/img/piedra.png)")}
      else if(button.id=="papel"){
        fotoeleccion.setAttribute("style","content: url(https://ponceelrelajado.com/juego/img/papel.png)")}
      else{
        fotoeleccion.setAttribute("style","content: url(https://ponceelrelajado.com/juego/img/tijera.png)")};
   //muestra la foto de la mano de la computadora
        if(computerSelection=="rock"){
      fotoeleccionai.setAttribute("style","content: url(https://ponceelrelajado.com/juego/img/piedra.png)")}
      else if(computerSelection=="papel"){
        fotoeleccionai.setAttribute("style","content: url(https://ponceelrelajado.com/juego/img/papel.png)")}
      else{
        fotoeleccionai.setAttribute("style","content: url(https://ponceelrelajado.com/juego/img/tijera.png)")};
    marcadorp.textContent =`Jugador ${playerScore}`;
    marcadorc.textContent= `AI ${computerScore}`;
    ganadorRonda.textContent= play
    marcadord.textContent=`Empate ${draw}`;
    ganadorgame.textContent='';
     if (playerScore == 3){
        playerScore = 0
        computerScore = 0
        draw = 0
        ganadorRonda.textContent='';  
        marcadorp.textContent ='';
        marcadorc.textContent='';
        marcadord.textContent='';
        return ganadorgame.textContent="GANA EL JUGADOR!";
      }
      else if(computerScore == 3){
        playerScore = 0
        computerScore = 0
        draw = 0
        ganadorRonda.textContent='';  
        marcadorp.textContent ='';
        marcadorc.textContent='';
        marcadord.textContent='';
        return  ganadorgame.textContent= "GANA LA COMPUTADORA!";
      }
      else if(draw == 3){
        playerScore = 0
        computerScore = 0
        draw = 0
        ganadorRonda.textContent='';  
        marcadorp.textContent ='';
        marcadorc.textContent='';
        marcadord.textContent='';
        return  ganadorgame.textContent= "EMPATE, JUEGA DE NUEVO";
      }
  });
});
    const ganadorRonda = document.querySelector(".resultadosdiv")
    const tablero = document.querySelector(".tablero");
    const containerElecciones= document.createElement("div");
    tablero.appendChild(containerElecciones);
    containerElecciones.classList.add("elec");
    const eleccionplayer= document.createElement("div");
    containerElecciones.appendChild(eleccionplayer);
    const eleccionai=document.createElement("div");
    containerElecciones.appendChild(eleccionai);
    const containerfotos=document.createElement("div");
    tablero.appendChild(containerfotos);
    containerfotos.classList.add("imgmano");
    const fotoeleccion=document.createElement("div");
    containerfotos.appendChild(fotoeleccion);
    fotoeleccion.classList.add("borderfoto");
    const fotoeleccionai=document.createElement("div");
    containerfotos.appendChild(fotoeleccionai);
    fotoeleccionai.classList.add("borderfoto");
    const marcadorp = document.createElement("div");
    tablero.appendChild(marcadorp);
    const marcadorc = document.createElement("div");
    tablero.appendChild(marcadorc);
    const marcadord=document.createElement("div");
    tablero.appendChild(marcadord);
    const ganadorgame = document.createElement('div');
    tablero.appendChild(ganadorgame);
    ganadorgame.classList.add('titulo','tableroyresultado');
    ganadorRonda.classList.add('titulo','tableroyresultado');
    marcadorc.classList.add('marcador','marcadorc');
    marcadord.classList.add('marcador','marcadord');
    marcadorp.classList.add('marcador','marcadorp');
    </script>
</html>
